<!-- start of view -->
<div background-directive="short" color="blue" flex class="page-content">
    <div layout="column" class="content">
        <div layout="row" layout-align="start center" class="page-header nmb padding-header small">
            <span>{{lang.search}} : {{lang.get(ctrl.selectedTabName.toLowerCase())}}</span>
            <md-button ng-click="ctrl.reloadCurrentSearch()" class="md-icon-button" tooltip="{{lang.reload}}">
                <md-icon md-svg-icon="refresh"></md-icon>
            </md-button>
            <md-button ng-if="ctrl.isShowButton()" ng-click="ctrl.print($event)" class="md-icon-button"
                       tooltip="{{lang.print}}">
                <md-icon md-svg-icon="printer"></md-icon>
            </md-button>
            <span flex></span>
            <div class="p020">
                <md-switch aria-label="{{lang.truncate_subject}}"
                           ng-if="ctrl.isShowButton()"
                           ng-model="ctrl.searchScreens[ctrl.selectedTabName].controller.grid.truncateSubject"
                           ng-change="ctrl.searchScreens[ctrl.selectedTabName].controller.grid.setTruncateSubject($event)">
                    <span>{{lang.truncate_subject}} : </span>
                    {{ctrl.searchScreens[ctrl.selectedTabName].controller.grid.truncateSubject ? lang.yes : lang.no }}
                </md-switch>
            </div>
        </div><!-- page-header -->
        <div class="search-forms">
            <md-tabs class="content white-bg"
                     md-selected="ctrl.searchScreens[ctrl.selectedTabName].controller.selectedTab">
                <md-tab label="{{lang.search}}">
                    <md-content scroll-directive class="white-bg page-padding">
                        <div id="search-container" layout="column">
                            <div class="navigation-row" layout="row">
                                <md-card class="m0" flex>
                                    <ul id="search-navigation-list">
                                        <li class="md-tab" ng-repeat="tab in ctrl.searchTabs"
                                            ng-class="{'md-active': tab.tabKey === ctrl.selectedTabName}"
                                            ng-click="ctrl.onTabClicked(tab , $event)"
                                            ng-if="tab.show">
                                            {{lang.get(tab.langKey)}}
                                        </li>
                                    </ul>
                                </md-card>
                            </div>
                        </div>
                    </md-content>
                </md-tab>
                <md-tab label="{{lang.search_module_search_results}}">
                    <md-table-container ng-if="ctrl.selectedTabName === 'outgoing'">
                        <div flex overlay-scroll-bar-directive>
                            <table md-table md-row-select multiple
                                   ng-model="ctrl.searchScreens.outgoing.controller.selectedSearchedOutgoingDocuments"
                                   md-progress="ctrl.searchScreens.outgoing.controller.grid.progress">
                                <thead md-head md-order="ctrl.searchScreens.outgoing.controller.grid.order"
                                       md-on-reorder="ctrl.searchScreens.outgoing.controller.getSortedData">
                                <tr md-row>
                                    <th colspan="{{ctrl.searchScreens.outgoing.controller.selectedSearchedOutgoingDocuments.length > 1 ? 9 : 10}}"
                                        ng-if="ctrl.searchScreens.outgoing.controller.selectedSearchedOutgoingDocuments.length"
                                        md-column>
                                        <div layout="row" layout-align="start center">
                                            <span>{{ctrl.searchScreens.outgoing.controller.selectedSearchedOutgoingDocuments.length}} {{lang.items_selected}} </span>
                                            <span flex></span>
                                            <!-- Add to Favorite -->
                                            <md-button class="md-icon-button" class="action-green"
                                                       tooltip="{{lang.grid_action_add_to_favorite}}"
                                                       ng-if="ctrl.searchScreens.outgoing.controller.selectedSearchedOutgoingDocuments.length"
                                                       ng-click="ctrl.searchScreens.outgoing.controller.addToFavoriteBulk($event)">
                                                <md-icon md-svg-icon="star"></md-icon>
                                            </md-button>
                                        </div>
                                    </th>
                                    <th md-column>
                                        <!-- Indicators -->
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.outgoing.controller.selectedSearchedOutgoingDocuments.length"
                                        md-column
                                        md-order-by="docSerial">
                                        <span>{{lang.label_serial}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.outgoing.controller.selectedSearchedOutgoingDocuments.length"
                                        md-column
                                        md-order-by="docSubject">
                                        <span>{{lang.subject}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.outgoing.controller.selectedSearchedOutgoingDocuments.length"
                                        md-column
                                        md-order-by="{{ctrl.searchScreens.outgoing.controller.getSortingKey('priorityLevel', 'Lookup')}}">
                                        <span>{{lang.priority_level}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.outgoing.controller.selectedSearchedOutgoingDocuments.length"
                                        md-column
                                        md-order-by="{{ctrl.searchScreens.outgoing.controller.getSortingKey('docTypeForSearchGrid', 'DocumentType')}}">
                                        <span>{{lang.label_document_type}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.outgoing.controller.selectedSearchedOutgoingDocuments.length"
                                        md-column
                                        md-order-by="{{ctrl.searchScreens.outgoing.controller.getSortingKey('creatorInfo', 'Information')}}">
                                        <span>{{lang.creator}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.outgoing.controller.selectedSearchedOutgoingDocuments.length"
                                        md-column
                                        md-order-by="createdOn">
                                        <span>{{lang.created_on}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.outgoing.controller.selectedSearchedOutgoingDocuments.length"
                                        md-column
                                        md-order-by="{{ctrl.searchScreens.outgoing.controller.getSortingKey('lastModifierInfo', 'Information')}}">
                                        <span>{{lang.last_modifier}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.outgoing.controller.selectedSearchedOutgoingDocuments.length"
                                        md-column
                                        md-order-by="{{ctrl.searchScreens.outgoing.controller.getSortingKey('mainSiteSubSiteString','Information')}}">
                                        <span>{{lang.correspondence_sites}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.outgoing.controller.selectedSearchedOutgoingDocuments.length && ctrl.searchScreens.outgoing.controller.selectedSearchedOutgoingDocuments.length < 2"
                                        md-column>
                                        <span></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody md-body>
                                <tr md-row md-select="searchedOutgoingDocument" grid-right-click-directive
                                    context-menu-actions="ctrl.searchScreens.outgoing.controller.contextMenuActions"
                                    model="searchedOutgoingDocument"
                                    selected-length="{{ctrl.searchScreens.outgoing.controller.selectedSearchedOutgoingDocuments.length ? ctrl.searchScreens.outgoing.controller.selectedSearchedOutgoingDocuments.length : 0}}"
                                    ng-repeat="searchedOutgoingDocument in searchResults = (ctrl.searchScreens.outgoing.controller.searchedOutgoingDocuments | filter:ctrl.searchScreens.outgoing.controller.searchModel | limitTo: ctrl.searchScreens.outgoing.controller.grid.limit: ((ctrl.searchScreens.outgoing.controller.grid.page - 1) * ctrl.searchScreens.outgoing.controller.grid.limit)) track by $index">
                                    <td md-cell class="indicator-td">
                                        <!-- Security Level -->
                                        <grid-indicator-directive record="searchedOutgoingDocument"
                                                                  indicator-type="securityLevel"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Paper/Electronic-->
                                        <grid-indicator-directive record="searchedOutgoingDocument"
                                                                  indicator-type="paperElectronic"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Priority Level -->
                                        <grid-indicator-directive record="searchedOutgoingDocument"
                                                                  indicator-type="priorityLevel"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Has Attachments -->
                                        <grid-indicator-directive record="searchedOutgoingDocument"
                                                                  indicator-type="hasAttachment"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Linked Documents -->
                                        <grid-indicator-directive record="searchedOutgoingDocument"
                                                                  indicator-type="hasLinkedDocuments"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Site Follow up Due Date -->
                                        <grid-indicator-directive record="searchedOutgoingDocument"
                                                                  indicator-type="siteFollowUpDueDate"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Site Follow up Ended -->
                                        <grid-indicator-directive record="searchedOutgoingDocument"
                                                                  indicator-type="siteFollowUpEnded"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Sequential Workflow -->
                                        <grid-indicator-directive record="searchedOutgoingDocument"
                                                                  indicator-type="sequentialWF"
                                                                  record-type="Correspondence"></grid-indicator-directive>
                                        <span flex
                                              ng-class="{'indicator-content': searchedOutgoingDocument.followUpStatusIndicator}">
                                        <md-icon ng-if="searchedOutgoingDocument.followUpStatusIndicator"
                                                 class="{{searchedOutgoingDocument.followUpStatusIndicator.class}}"
                                                 md-svg-icon="{{searchedOutgoingDocument.followUpStatusIndicator.icon}}"
                                                 tooltip="{{lang[searchedOutgoingDocument.followUpStatusIndicator.tooltip].change({name: searchedOutgoingDocument.followupStatusLookup.getTranslatedName()})}}"
                                        ></md-icon>
                                    </span>
                                    </td>
                                    <td md-cell><span
                                            class="serial-td">{{searchedOutgoingDocument.docFullSerial}}</span></td>
                                    <td md-cell class="subject">
                                        <!--<grid-document-subject-directive record="searchedOutgoingDocument"
                                                                         plain-text-only="!searchedOutgoingDocument.hasContent()"
                                                                         click-callback="ctrl.searchScreens.outgoing.controller.viewDocument">
                                        </grid-document-subject-directive>-->
                                        <a href=""
                                           ng-if="searchedOutgoingDocument.hasContent() && ctrl.searchScreens.outgoing.controller.grid.truncateSubject"
                                           class="view-doc subject-internal" md-truncate
                                           tooltip="{{searchedOutgoingDocument.docSubject}}"
                                           ng-click="ctrl.searchScreens.outgoing.controller.viewDocument(searchedOutgoingDocument, $event)">{{searchedOutgoingDocument.docSubject}}</a>
                                        <span ng-if="!searchedOutgoingDocument.hasContent() && ctrl.searchScreens.outgoing.controller.grid.truncateSubject"
                                              class="view-doc subject-internal" md-truncate
                                              tooltip="{{searchedOutgoingDocument.docSubject}}">{{searchedOutgoingDocument.docSubject}}</span>
                                        <a href=""
                                           ng-if="searchedOutgoingDocument.hasContent() && !ctrl.searchScreens.outgoing.controller.grid.truncateSubject"
                                           class="view-doc subject-internal"
                                           tooltip="{{searchedOutgoingDocument.docSubject}}"
                                           ng-click="ctrl.searchScreens.outgoing.controller.viewDocument(searchedOutgoingDocument, $event)">{{searchedOutgoingDocument.docSubject}}</a>
                                        <span ng-if="!searchedOutgoingDocument.hasContent() && !ctrl.searchScreens.outgoing.controller.grid.truncateSubject"
                                              class="view-doc subject-internal"
                                              tooltip="{{searchedOutgoingDocument.docSubject}}">{{searchedOutgoingDocument.docSubject}}</span>
                                    </td>
                                    <td md-cell>{{searchedOutgoingDocument.priorityLevel.getTranslatedName()}}</td>
                                    <td md-cell>{{searchedOutgoingDocument.docTypeInfo.getTranslatedName()}}</td>
                                    <td md-cell>{{searchedOutgoingDocument.creatorInfo.getTranslatedName()}}</td>
                                    <td md-cell>{{searchedOutgoingDocument.createdOn}}</td>
                                    <td md-cell>{{searchedOutgoingDocument.lastModifierInfo.getTranslatedName()}}</td>
                                    <td md-cell class="td-data">
                                        <main-site-sub-site-directive
                                                item="searchedOutgoingDocument"></main-site-sub-site-directive>
                                    </td>
                                    <td md-cell
                                        ng-if="ctrl.searchScreens.outgoing.controller.selectedSearchedOutgoingDocuments.length < 2">
                                        <div layout-align="start center" ng-if="!ctrl.searchScreens.outgoing.controller.selectedSearchedOutgoingDocuments.length
                                                  || ctrl.searchScreens.outgoing.controller.selectedSearchedOutgoingDocuments.length===1 && ctrl.searchScreens.outgoing.controller.selectedSearchedOutgoingDocuments[0].id === searchedOutgoingDocument.id">
                                            <grid-actions-directive
                                                    shortcut-actions="ctrl.searchScreens.outgoing.controller.shortcutActions"
                                                    model="searchedOutgoingDocument">
                                            </grid-actions-directive>
                                        </div>
                                    </td>
                                </tr>
                                <tr md-row
                                    ng-if="!ctrl.searchScreens.outgoing.controller.searchedOutgoingDocuments.length">
                                    <td md-cell colspan="8" class="red-text text-center">{{lang.no_records_found}}
                                    </td>
                                </tr>
                                <tr md-row
                                    ng-if="ctrl.searchScreens.outgoing.controller.searchedOutgoingDocuments.length && !searchResults.length">
                                    <td md-cell colspan="8" class="red-text text-center">
                                        {{lang.no_records_found_matching_search}}
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <md-table-pagination
                                md-label="{page: '{{lang.page}}', rowsPerPage: '{{lang.rows_per_page}}', of: '{{lang.count_of}}'}"
                                md-limit-options="ctrl.searchScreens.outgoing.controller.grid.limitOptions"
                                md-limit="ctrl.searchScreens.outgoing.controller.grid.limit"
                                md-page="ctrl.searchScreens.outgoing.controller.grid.page"
                                md-total="{{(ctrl.searchScreens.outgoing.controller.searchedOutgoingDocuments | filter:ctrl.searchScreens.outgoing.controller.searchModel).length}}"
                                md-page-select
                                md-on-paginate="ctrl.searchScreens.outgoing.controller.grid.pagingCallback">
                        </md-table-pagination>
                    </md-table-container>
                    <md-table-container ng-if="ctrl.selectedTabName === 'internal'">
                        <div flex overlay-scroll-bar-directive>
                            <table md-table md-row-select multiple
                                   ng-model="ctrl.searchScreens.internal.controller.selectedSearchedInternalDocuments"
                                   md-progress="ctrl.searchScreens.internal.controller.grid.progress">
                                <thead md-head md-order="ctrl.searchScreens.internal.controller.grid.order"
                                       md-on-reorder="ctrl.searchScreens.internal.controller.getSortedData">
                                <tr md-row>
                                    <th colspan="{{ctrl.searchScreens.internal.controller.selectedSearchedInternalDocuments.length > 1 ? 8 : 9}}"
                                        ng-if="ctrl.searchScreens.internal.controller.selectedSearchedInternalDocuments.length"
                                        md-column>
                                        <div layout="row" layout-align="start center">
                                            <span>{{ctrl.searchScreens.internal.controller.selectedSearchedInternalDocuments.length}} {{lang.items_selected}} </span>
                                            <span flex></span>
                                            <!-- Add to Favorite -->
                                            <md-button class="md-icon-button" class="action-green"
                                                       tooltip="{{lang.grid_action_add_to_favorite}}"
                                                       ng-if="ctrl.searchScreens.internal.controller.selectedSearchedInternalDocuments.length"
                                                       ng-click="ctrl.searchScreens.internal.controller.addToFavoriteBulk($event)">
                                                <md-icon md-svg-icon="star"></md-icon>
                                            </md-button>
                                        </div>
                                    </th>
                                    <th md-column>
                                        <!-- Indicators -->
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.internal.controller.selectedSearchedInternalDocuments.length"
                                        md-column
                                        md-order-by="docSerial">
                                        <span>{{lang.label_serial}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.internal.controller.selectedSearchedInternalDocuments.length"
                                        md-column
                                        md-order-by="docSubject">
                                        <span>{{lang.subject}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.internal.controller.selectedSearchedInternalDocuments.length"
                                        md-column
                                        md-order-by="{{ctrl.searchScreens.internal.controller.getSortingKey('priorityLevel', 'Lookup')}}">
                                        <span>{{lang.priority_level}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.internal.controller.selectedSearchedInternalDocuments.length"
                                        md-column
                                        md-order-by="{{ctrl.searchScreens.internal.controller.getSortingKey('docTypeForSearchGrid', 'DocumentType')}}">
                                        <span>{{lang.label_document_type}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.internal.controller.selectedSearchedInternalDocuments.length"
                                        md-column
                                        md-order-by="{{ctrl.searchScreens.internal.controller.getSortingKey('creatorInfo', 'Information')}}">
                                        <span>{{lang.creator}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.internal.controller.selectedSearchedInternalDocuments.length"
                                        md-column
                                        md-order-by="createdOn">
                                        <span>{{lang.created_on}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.internal.controller.selectedSearchedInternalDocuments.length"
                                        md-column
                                        md-order-by="{{ctrl.searchScreens.internal.controller.getSortingKey('lastModifierInfo', 'Information')}}">
                                        <span>{{lang.last_modifier}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.internal.controller.selectedSearchedInternalDocuments.length && ctrl.searchScreens.internal.controller.selectedSearchedInternalDocuments.length < 2"
                                        md-column>
                                        <span></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody md-body>
                                <tr md-row md-select="searchedInternalDocument" grid-right-click-directive
                                    context-menu-actions="ctrl.searchScreens.internal.controller.contextMenuActions"
                                    model="searchedInternalDocument"
                                    selected-length="{{ctrl.searchScreens.internal.controller.selectedSearchedInternalDocuments.length ? ctrl.searchScreens.internal.controller.selectedSearchedInternalDocuments.length : 0}}"
                                    ng-repeat="searchedInternalDocument in searchResults = (ctrl.searchScreens.internal.controller.searchedInternalDocuments | filter:ctrl.searchScreens.internal.controller.searchModel | limitTo: ctrl.searchScreens.internal.controller.grid.limit: ((ctrl.searchScreens.internal.controller.grid.page - 1) * ctrl.searchScreens.internal.controller.grid.limit)) track by $index">
                                    <td md-cell class="indicator-td">
                                        <!-- Security Level -->
                                        <grid-indicator-directive record="searchedInternalDocument"
                                                                  indicator-type="securityLevel"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Paper/Electronic-->
                                        <grid-indicator-directive record="searchedInternalDocument"
                                                                  indicator-type="paperElectronic"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Priority Level -->
                                        <grid-indicator-directive record="searchedInternalDocument"
                                                                  indicator-type="priorityLevel"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Has Attachments -->
                                        <grid-indicator-directive record="searchedInternalDocument"
                                                                  indicator-type="hasAttachment"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Linked Documents -->
                                        <grid-indicator-directive record="searchedInternalDocument"
                                                                  indicator-type="hasLinkedDocuments"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Sequential Workflow -->
                                        <grid-indicator-directive record="searchedInternalDocument"
                                                                  indicator-type="sequentialWF"
                                                                  record-type="Correspondence"></grid-indicator-directive>
                                    </td>
                                    <td md-cell><span
                                            class="serial-td">{{searchedInternalDocument.docFullSerial}}</span></td>
                                    <td md-cell class="subject">
                                        <!--<grid-document-subject-directive record="searchedInternalDocument"
                                                                         plain-text-only="!searchedInternalDocument.hasContent()"
                                                                         click-callback="ctrl.searchScreens.internal.controller.viewDocument">
                                        </grid-document-subject-directive>-->
                                        <a href=""
                                           ng-if="searchedInternalDocument.hasContent() && ctrl.searchScreens.internal.controller.grid.truncateSubject"
                                           class="view-doc subject-internal" md-truncate
                                           tooltip="{{searchedInternalDocument.docSubject}}"
                                           ng-click="ctrl.searchScreens.internal.controller.viewDocument(searchedInternalDocument, $event)">{{searchedInternalDocument.docSubject}}</a>
                                        <span ng-if="!searchedInternalDocument.hasContent() && ctrl.searchScreens.internal.controller.grid.truncateSubject"
                                              class="view-doc subject-internal" md-truncate
                                              tooltip="{{searchedInternalDocument.docSubject}}">{{searchedInternalDocument.docSubject}}</span>
                                        <a href=""
                                           ng-if="searchedInternalDocument.hasContent() && !ctrl.searchScreens.internal.controller.grid.truncateSubject"
                                           class="view-doc subject-internal"
                                           tooltip="{{searchedInternalDocument.docSubject}}"
                                           ng-click="ctrl.searchScreens.internal.controller.viewDocument(searchedInternalDocument, $event)">{{searchedInternalDocument.docSubject}}</a>
                                        <span ng-if="!searchedInternalDocument.hasContent() && !ctrl.searchScreens.internal.controller.grid.truncateSubject"
                                              class="view-doc subject-internal"
                                              tooltip="{{searchedInternalDocument.docSubject}}">{{searchedInternalDocument.docSubject}}</span>
                                    </td>
                                    <td md-cell>{{searchedInternalDocument.priorityLevel.getTranslatedName()}}</td>
                                    <td md-cell>{{searchedInternalDocument.docTypeInfo.getTranslatedName()}}</td>
                                    <td md-cell>{{searchedInternalDocument.creatorInfo.getTranslatedName()}}</td>
                                    <td md-cell>{{searchedInternalDocument.createdOn}}</td>
                                    <td md-cell>{{searchedInternalDocument.lastModifierInfo.getTranslatedName()}}</td>
                                    <td md-cell
                                        ng-if="ctrl.searchScreens.internal.controller.selectedSearchedInternalDocuments.length < 2">
                                        <div layout-align="start center" ng-if="!ctrl.searchScreens.internal.controller.selectedSearchedInternalDocuments.length
                                                  || ctrl.searchScreens.internal.controller.selectedSearchedInternalDocuments.length===1 && ctrl.searchScreens.internal.controller.selectedSearchedInternalDocuments[0].id === searchedInternalDocument.id">
                                            <grid-actions-directive
                                                    shortcut-actions="ctrl.searchScreens.internal.controller.shortcutActions"
                                                    model="searchedInternalDocument">
                                            </grid-actions-directive>
                                        </div>
                                    </td>
                                </tr>
                                <tr md-row
                                    ng-if="!ctrl.searchScreens.internal.controller.searchedInternalDocuments.length">
                                    <td md-cell colspan="8" class="red-text text-center">{{lang.no_records_found}}</td>
                                </tr>
                                <tr md-row
                                    ng-if="ctrl.searchScreens.internal.controller.searchedInternalDocuments.length && !searchResults.length">
                                    <td md-cell colspan="8" class="red-text text-center">
                                        {{lang.no_records_found_matching_search}}
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <md-table-pagination
                                md-label="{page: '{{lang.page}}', rowsPerPage: '{{lang.rows_per_page}}', of: '{{lang.count_of}}'}"
                                md-limit-options="ctrl.searchScreens.internal.controller.grid.limitOptions"
                                md-limit="ctrl.searchScreens.internal.controller.grid.limit"
                                md-page="ctrl.searchScreens.internal.controller.grid.page"
                                md-total="{{(ctrl.searchScreens.internal.controller.searchedInternalDocuments | filter:ctrl.searchScreens.internal.controller.searchModel).length}}"
                                md-page-select
                                md-on-paginate="ctrl.searchScreens.internal.controller.grid.pagingCallback">
                        </md-table-pagination>
                    </md-table-container>
                    <md-table-container ng-if="ctrl.selectedTabName === 'incoming'">
                        <div flex overlay-scroll-bar-directive>
                            <table md-table md-row-select multiple
                                   ng-model="ctrl.searchScreens.incoming.controller.selectedSearchedIncomingDocuments"
                                   md-progress="ctrl.searchScreens.incoming.controller.grid.progress">
                                <thead md-head md-order="ctrl.searchScreens.incoming.controller.grid.order"
                                       md-on-reorder="ctrl.searchScreens.incoming.controller.getSortedData">
                                <tr md-row>
                                    <th colspan="{{ctrl.searchScreens.incoming.controller.selectedSearchedIncomingDocuments.length > 1 ? 9 : 10}}"
                                        ng-if="ctrl.searchScreens.incoming.controller.selectedSearchedIncomingDocuments.length"
                                        md-column>
                                        <div layout="row" layout-align="start center">
                                            <span>{{ctrl.searchScreens.incoming.controller.selectedSearchedIncomingDocuments.length}} {{lang.items_selected}} </span>
                                            <span flex></span>
                                            <!-- Add to Favorite -->
                                            <md-button class="md-icon-button" class="action-green"
                                                       tooltip="{{lang.grid_action_add_to_favorite}}"
                                                       ng-if="ctrl.searchScreens.incoming.controller.selectedSearchedIncomingDocuments.length"
                                                       ng-click="ctrl.searchScreens.incoming.controller.addToFavoriteBulk($event)">
                                                <md-icon md-svg-icon="star"></md-icon>
                                            </md-button>
                                        </div>
                                    </th>
                                    <th md-column>
                                        <!-- Indicators -->
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.incoming.controller.selectedSearchedIncomingDocuments.length"
                                        md-column
                                        md-order-by="docSerial">
                                        <span>{{lang.label_serial}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.incoming.controller.selectedSearchedIncomingDocuments.length"
                                        md-column
                                        md-order-by="docSubject">
                                        <span>{{lang.subject}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.incoming.controller.selectedSearchedIncomingDocuments.length"
                                        md-column
                                        md-order-by="refDocNumber">
                                        <span>{{lang.document_number}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.incoming.controller.selectedSearchedIncomingDocuments.length"
                                        md-column
                                        md-order-by="{{ctrl.searchScreens.incoming.controller.getSortingKey('docTypeForSearchGrid', 'DocumentType')}}">
                                        <span>{{lang.label_document_type}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.incoming.controller.selectedSearchedIncomingDocuments.length"
                                        md-column
                                        md-order-by="{{ctrl.searchScreens.incoming.controller.getSortingKey('creatorInfo', 'Information')}}">
                                        <span>{{lang.creator}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.incoming.controller.selectedSearchedIncomingDocuments.length"
                                        md-column
                                        md-order-by="createdOn">
                                        <span>{{lang.created_on}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.incoming.controller.selectedSearchedIncomingDocuments.length"
                                        md-column
                                        md-order-by="{{ctrl.searchScreens.incoming.controller.getSortingKey('lastModifierInfo', 'Information')}}">
                                        <span>{{lang.last_modifier}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.incoming.controller.selectedSearchedIncomingDocuments.length"
                                        md-column
                                        md-order-by="{{ctrl.searchScreens.incoming.controller.getSortingKey('mainSiteSubSiteString','Information')}}">
                                        <span>{{lang.correspondence_sites}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.incoming.controller.selectedSearchedIncomingDocuments.length && ctrl.searchScreens.incoming.controller.selectedSearchedIncomingDocuments.length < 2"
                                        md-column>
                                        <span></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody md-body>
                                <tr md-row md-select="searchedIncomingDocument" grid-right-click-directive
                                    context-menu-actions="ctrl.searchScreens.incoming.controller.contextMenuActions"
                                    model="searchedIncomingDocument"
                                    selected-length="{{ctrl.searchScreens.incoming.controller.selectedSearchedIncomingDocuments.length ? ctrl.searchScreens.incoming.controller.selectedSearchedIncomingDocuments.length : 0}}"
                                    ng-repeat="searchedIncomingDocument in searchResults = (ctrl.searchScreens.incoming.controller.searchedIncomingDocuments | filter:ctrl.searchScreens.incoming.controller.searchModel | limitTo: ctrl.searchScreens.incoming.controller.grid.limit: ((ctrl.searchScreens.incoming.controller.grid.page - 1) * ctrl.searchScreens.incoming.controller.grid.limit)) track by $index">
                                    <td md-cell class="indicator-td">
                                        <!-- Security Level -->
                                        <grid-indicator-directive record="searchedIncomingDocument"
                                                                  indicator-type="securityLevel"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Priority Level -->
                                        <grid-indicator-directive record="searchedIncomingDocument"
                                                                  indicator-type="priorityLevel"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Has Attachments -->
                                        <grid-indicator-directive record="searchedIncomingDocument"
                                                                  indicator-type="hasAttachment"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Linked Documents -->
                                        <grid-indicator-directive record="searchedIncomingDocument"
                                                                  indicator-type="hasLinkedDocuments"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Site Follow up Due Date -->
                                        <grid-indicator-directive record="searchedIncomingDocument"
                                                                  indicator-type="siteFollowUpDueDate"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Site Follow up Ended -->
                                        <grid-indicator-directive record="searchedIncomingDocument"
                                                                  indicator-type="siteFollowUpEnded"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Sequential Workflow -->
                                        <grid-indicator-directive record="searchedIncomingDocument"
                                                                  indicator-type="sequentialWF"
                                                                  record-type="Correspondence"></grid-indicator-directive>
                                    </td>
                                    <td md-cell>
                                        <span class="serial-td">{{searchedIncomingDocument.docFullSerial}}</span>
                                    </td>
                                    <td md-cell class="subject">
                                        <!--<grid-document-subject-directive record="searchedIncomingDocument"
                                                                         plain-text-only="!searchedIncomingDocument.hasContent()"
                                                                         click-callback="ctrl.searchScreens.incoming.controller.viewDocument">
                                        </grid-document-subject-directive>-->
                                        <a href=""
                                           ng-if="searchedIncomingDocument.hasContent() && ctrl.searchScreens.incoming.controller.grid.truncateSubject"
                                           class="view-doc subject-internal" md-truncate
                                           tooltip="{{searchedIncomingDocument.docSubject}}"
                                           ng-click="ctrl.searchScreens.incoming.controller.viewDocument(searchedIncomingDocument, $event)">{{searchedIncomingDocument.docSubject}}</a>
                                        <span ng-if="!searchedIncomingDocument.hasContent() && ctrl.searchScreens.incoming.controller.grid.truncateSubject"
                                              class="view-doc subject-internal" md-truncate
                                              tooltip="{{searchedIncomingDocument.docSubject}}">{{searchedIncomingDocument.docSubject}}</span>
                                        <a href=""
                                           ng-if="searchedIncomingDocument.hasContent() && !ctrl.searchScreens.incoming.controller.grid.truncateSubject"
                                           class="view-doc subject-internal"
                                           tooltip="{{searchedIncomingDocument.docSubject}}"
                                           ng-click="ctrl.searchScreens.incoming.controller.viewDocument(searchedIncomingDocument, $event)">{{searchedIncomingDocument.docSubject}}</a>
                                        <span ng-if="!searchedIncomingDocument.hasContent() && !ctrl.searchScreens.incoming.controller.grid.truncateSubject"
                                              class="view-doc subject-internal"
                                              tooltip="{{searchedIncomingDocument.docSubject}}">{{searchedIncomingDocument.docSubject}}</span>
                                    </td>
                                    <td md-cell>{{searchedIncomingDocument.refDocNumber}}</td>
                                    <td md-cell>{{searchedIncomingDocument.docTypeInfo.getTranslatedName()}}</td>
                                    <td md-cell>{{searchedIncomingDocument.creatorInfo.getTranslatedName()}}</td>
                                    <td md-cell>{{searchedIncomingDocument.createdOn}}</td>
                                    <td md-cell>{{searchedIncomingDocument.lastModifierInfo.getTranslatedName()}}</td>
                                    <td md-cell class="td-data">
                                        <main-site-sub-site-directive
                                                item="searchedIncomingDocument"></main-site-sub-site-directive>
                                    </td>
                                    <td md-cell
                                        ng-if="ctrl.searchScreens.incoming.controller.selectedSearchedIncomingDocuments.length < 2">
                                        <div layout-align="start center" ng-if="!ctrl.searchScreens.incoming.controller.selectedSearchedIncomingDocuments.length
                                                  || ctrl.searchScreens.incoming.controller.selectedSearchedIncomingDocuments.length===1 && ctrl.searchScreens.incoming.controller.selectedSearchedIncomingDocuments[0].id === searchedIncomingDocument.id">
                                            <grid-actions-directive
                                                    shortcut-actions="ctrl.searchScreens.incoming.controller.shortcutActions"
                                                    model="searchedIncomingDocument">
                                            </grid-actions-directive>
                                        </div>
                                    </td>
                                </tr>
                                <tr md-row
                                    ng-if="!ctrl.searchScreens.incoming.controller.searchedIncomingDocuments.length">
                                    <td md-cell colspan="8" class="red-text text-center">{{lang.no_records_found}}</td>
                                </tr>
                                <tr md-row
                                    ng-if="ctrl.searchScreens.incoming.controller.searchedIncomingDocuments.length && !searchResults.length">
                                    <td md-cell colspan="8" class="red-text text-center">
                                        {{lang.no_records_found_matching_search}}
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <md-table-pagination
                                md-label="{page: '{{lang.page}}', rowsPerPage: '{{lang.rows_per_page}}', of: '{{lang.count_of}}'}"
                                md-limit-options="ctrl.searchScreens.incoming.controller.grid.limitOptions"
                                md-limit="ctrl.searchScreens.incoming.controller.grid.limit"
                                md-page="ctrl.searchScreens.incoming.controller.grid.page"
                                md-total="{{(ctrl.searchScreens.incoming.controller.searchedIncomingDocuments | filter:ctrl.searchScreens.incoming.controller.searchModel).length}}"
                                md-page-select
                                md-on-paginate="ctrl.searchScreens.incoming.controller.grid.pagingCallback">
                        </md-table-pagination>
                    </md-table-container>
                    <md-table-container ng-if="ctrl.selectedTabName === 'outgoingIncoming'">
                        <div flex overlay-scroll-bar-directive>
                            <table md-table md-row-select multiple
                                   ng-model="ctrl.searchScreens.outgoingIncoming.controller.selectedSearchedOutgoingIncomingDocuments"
                                   md-progress="ctrl.searchScreens.outgoingIncoming.controller.grid.progress">
                                <thead md-head md-order="ctrl.searchScreens.outgoingIncoming.controller.grid.order"
                                       md-on-reorder="ctrl.searchScreens.outgoingIncoming.controller.getSortedData">
                                <tr md-row>
                                    <th colspan="{{ctrl.searchScreens.outgoingIncoming.controller.selectedSearchedOutgoingIncomingDocuments.length > 1 ? 9 : 10}}"
                                        ng-if="ctrl.searchScreens.outgoingIncoming.controller.selectedSearchedOutgoingIncomingDocuments.length"
                                        md-column>
                                        <div layout="row" layout-align="start center">
                                            <span>{{ctrl.searchScreens.outgoingIncoming.controller.selectedSearchedOutgoingIncomingDocuments.length}} {{lang.items_selected}} </span>
                                            <span flex></span>
                                            <!-- Add to Favorite -->
                                            <md-button class="md-icon-button" class="action-green"
                                                       tooltip="{{lang.grid_action_add_to_favorite}}"
                                                       ng-if="ctrl.searchScreens.outgoingIncoming.controller.selectedSearchedOutgoingIncomingDocuments.length"
                                                       ng-click="ctrl.searchScreens.outgoingIncoming.controller.addToFavoriteBulk($event)">
                                                <md-icon md-svg-icon="star"></md-icon>
                                            </md-button>
                                        </div>
                                    </th>
                                    <th md-column>
                                        <!-- Indicators -->
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.outgoingIncoming.controller.selectedSearchedOutgoingIncomingDocuments.length"
                                        md-column
                                        md-order-by="docSerial">
                                        <span>{{lang.label_serial}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.outgoingIncoming.controller.selectedSearchedOutgoingIncomingDocuments.length"
                                        md-column
                                        md-order-by="docSubject">
                                        <span>{{lang.subject}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.outgoingIncoming.controller.selectedSearchedOutgoingIncomingDocuments.length"
                                        md-column
                                        md-order-by="{{ctrl.searchScreens.outgoingIncoming.controller.getSortingKey('priorityLevel', 'Lookup')}}">
                                        <span>{{lang.priority_level}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.outgoingIncoming.controller.selectedSearchedOutgoingIncomingDocuments.length"
                                        md-column
                                        md-order-by="{{ctrl.searchScreens.outgoingIncoming.controller.getSortingKey('docTypeForSearchGrid', 'DocumentType')}}">
                                        <span>{{lang.label_document_type}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.outgoingIncoming.controller.selectedSearchedOutgoingIncomingDocuments.length"
                                        md-column
                                        md-order-by="{{ctrl.searchScreens.outgoingIncoming.controller.getSortingKey('creatorInfo', 'Information')}}">
                                        <span>{{lang.creator}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.outgoingIncoming.controller.selectedSearchedOutgoingIncomingDocuments.length"
                                        md-column
                                        md-order-by="createdOn">
                                        <span>{{lang.created_on}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.outgoingIncoming.controller.selectedSearchedOutgoingIncomingDocuments.length"
                                        md-column
                                        md-order-by="{{ctrl.searchScreens.outgoingIncoming.controller.getSortingKey('lastModifierInfo', 'Information')}}">
                                        <span>{{lang.last_modifier}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.outgoingIncoming.controller.selectedSearchedOutgoingIncomingDocuments.length"
                                        md-column
                                        md-order-by="{{ctrl.searchScreens.outgoingIncoming.controller.getSortingKey('mainSiteSubSiteString','Information')}}">
                                        <span>{{lang.correspondence_sites}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.outgoingIncoming.controller.selectedSearchedOutgoingIncomingDocuments.length && ctrl.searchScreens.outgoingIncoming.controller.selectedSearchedOutgoingIncomingDocuments.length < 2"
                                        md-column>
                                        <span></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody md-body>
                                <tr md-row md-select="searchedOutgoingIncomingDocument" grid-right-click-directive
                                    context-menu-actions="ctrl.searchScreens.outgoingIncoming.controller.contextMenuActions"
                                    model="searchedOutgoingIncomingDocument"
                                    selected-length="{{ctrl.searchScreens.outgoingIncoming.controller.selectedSearchedOutgoingIncomingDocuments.length ? ctrl.searchScreens.outgoingIncoming.controller.selectedSearchedOutgoingIncomingDocuments.length : 0}}"
                                    ng-repeat="searchedOutgoingIncomingDocument in searchResults = (ctrl.searchScreens.outgoingIncoming.controller.searchedOutgoingIncomingDocuments | filter:ctrl.searchScreens.outgoingIncoming.controller.searchModel | limitTo: ctrl.searchScreens.outgoingIncoming.controller.grid.limit: ((ctrl.searchScreens.outgoingIncoming.controller.grid.page - 1) * ctrl.searchScreens.outgoingIncoming.controller.grid.limit)) track by $index">
                                    <td md-cell class="indicator-td">
                                        <!-- Security Level -->
                                        <grid-indicator-directive record="searchedOutgoingIncomingDocument"
                                                                  indicator-type="securityLevel"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Document Class (Outgoing/Incoming) -->
                                        <grid-indicator-directive record="searchedOutgoingIncomingDocument"
                                                                  indicator-type="docClass"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Paper/Electronic-->
                                        <grid-indicator-directive record="searchedOutgoingIncomingDocument"
                                                                  ng-if="searchedOutgoingIncomingDocument.getInfo().documentClass !== 'incoming'"
                                                                  indicator-type="paperElectronic"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Priority Level -->
                                        <grid-indicator-directive record="searchedOutgoingIncomingDocument"
                                                                  indicator-type="priorityLevel"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Has Attachments -->
                                        <grid-indicator-directive record="searchedOutgoingIncomingDocument"
                                                                  indicator-type="hasAttachment"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Linked Documents -->
                                        <grid-indicator-directive record="searchedOutgoingIncomingDocument"
                                                                  indicator-type="hasLinkedDocuments"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Site Follow up Due Date -->
                                        <grid-indicator-directive record="searchedOutgoingIncomingDocument"
                                                                  indicator-type="siteFollowUpDueDate"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Site Follow up Ended -->
                                        <grid-indicator-directive record="searchedOutgoingIncomingDocument"
                                                                  indicator-type="siteFollowUpEnded"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Sequential Workflow -->
                                        <grid-indicator-directive record="searchedOutgoingIncomingDocument"
                                                                  indicator-type="sequentialWF"
                                                                  record-type="Correspondence"></grid-indicator-directive>
                                    </td>
                                    <td md-cell><span
                                            class="serial-td">{{searchedOutgoingIncomingDocument.docFullSerial}}</span>
                                    </td>
                                    <td md-cell class="subject">
                                        <!--<grid-document-subject-directive record="searchedOutgoingIncomingDocument"
                                                                         plain-text-only="!searchedOutgoingIncomingDocument.hasContent()"
                                                                         click-callback="ctrl.searchScreens.outgoingIncoming.controller.viewDocument">
                                        </grid-document-subject-directive>-->
                                        <a href=""
                                           ng-if="searchedOutgoingIncomingDocument.hasContent() && ctrl.searchScreens.outgoingIncoming.controller.grid.truncateSubject"
                                           class="view-doc subject-internal" md-truncate
                                           tooltip="{{searchedOutgoingIncomingDocument.docSubject}}"
                                           ng-click="ctrl.searchScreens.outgoingIncoming.controller.viewDocument(searchedOutgoingIncomingDocument, $event)">{{searchedOutgoingIncomingDocument.docSubject}}</a>
                                        <span ng-if="!searchedOutgoingIncomingDocument.hasContent() && ctrl.searchScreens.outgoingIncoming.controller.grid.truncateSubject"
                                              class="view-doc subject-internal" md-truncate
                                              tooltip="{{searchedOutgoingIncomingDocument.docSubject}}">{{searchedOutgoingIncomingDocument.docSubject}}</span>
                                        <a href=""
                                           ng-if="searchedOutgoingIncomingDocument.hasContent() && !ctrl.searchScreens.outgoingIncoming.controller.grid.truncateSubject"
                                           class="view-doc subject-internal"
                                           tooltip="{{searchedOutgoingIncomingDocument.docSubject}}"
                                           ng-click="ctrl.searchScreens.outgoingIncoming.controller.viewDocument(searchedOutgoingIncomingDocument, $event)">{{searchedOutgoingIncomingDocument.docSubject}}</a>
                                        <span ng-if="!searchedOutgoingIncomingDocument.hasContent() && !ctrl.searchScreens.outgoingIncoming.controller.grid.truncateSubject"
                                              class="view-doc subject-internal"
                                              tooltip="{{searchedOutgoingIncomingDocument.docSubject}}">{{searchedOutgoingIncomingDocument.docSubject}}</span>
                                    </td>
                                    <td md-cell>{{searchedOutgoingIncomingDocument.priorityLevel.getTranslatedName()}}
                                    </td>
                                    <td md-cell>{{searchedOutgoingIncomingDocument.docTypeInfo.getTranslatedName()}}
                                    </td>
                                    <td md-cell>{{searchedOutgoingIncomingDocument.creatorInfo.getTranslatedName()}}
                                    </td>
                                    <td md-cell>{{searchedOutgoingIncomingDocument.createdOn}}</td>
                                    <td md-cell>{{searchedOutgoingIncomingDocument.lastModifierInfo.getTranslatedName()}}</td>
                                    <td md-cell class="td-data">
                                        <main-site-sub-site-directive
                                                item="searchedOutgoingIncomingDocument"></main-site-sub-site-directive>
                                    </td>
                                    <td md-cell
                                        ng-if="ctrl.searchScreens.outgoingIncoming.controller.selectedSearchedOutgoingIncomingDocuments.length < 2">
                                        <div layout-align="start center" ng-if="!ctrl.searchScreens.outgoingIncoming.controller.selectedSearchedOutgoingIncomingDocuments.length
                                                  || ctrl.searchScreens.outgoingIncoming.controller.selectedSearchedOutgoingIncomingDocuments.length===1 && ctrl.searchScreens.outgoingIncoming.controller.selectedSearchedOutgoingIncomingDocuments[0].id === searchedOutgoingIncomingDocument.id">
                                            <grid-actions-directive
                                                    shortcut-actions="ctrl.searchScreens.outgoingIncoming.controller.shortcutActions"
                                                    model="searchedOutgoingIncomingDocument">
                                            </grid-actions-directive>
                                        </div>
                                    </td>
                                </tr>
                                <tr md-row
                                    ng-if="!ctrl.searchScreens.outgoingIncoming.controller.searchedOutgoingIncomingDocuments.length">
                                    <td md-cell colspan="8" class="red-text text-center">{{lang.no_records_found}}</td>
                                </tr>
                                <tr md-row
                                    ng-if="ctrl.searchScreens.outgoingIncoming.controller.searchedOutgoingIncomingDocuments.length && !searchResults.length">
                                    <td md-cell colspan="8" class="red-text text-center">
                                        {{lang.no_records_found_matching_search}}
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <md-table-pagination
                                md-label="{page: '{{lang.page}}', rowsPerPage: '{{lang.rows_per_page}}', of: '{{lang.count_of}}'}"
                                md-limit-options="ctrl.searchScreens.outgoingIncoming.controller.grid.limitOptions"
                                md-limit="ctrl.searchScreens.outgoingIncoming.controller.grid.limit"
                                md-page="ctrl.searchScreens.outgoingIncoming.controller.grid.page"
                                md-total="{{(ctrl.searchScreens.outgoingIncoming.controller.searchedOutgoingIncomingDocuments | filter:ctrl.searchScreens.outgoingIncoming.controller.searchModel).length}}"
                                md-page-select
                                md-on-paginate="ctrl.searchScreens.outgoingIncoming.controller.grid.pagingCallback">
                        </md-table-pagination>
                    </md-table-container>
                    <md-table-container ng-if="ctrl.selectedTabName === 'general'">
                        <div flex overlay-scroll-bar-directive>
                            <table md-table md-row-select multiple
                                   ng-model="ctrl.searchScreens.general.controller.selectedSearchedGeneralDocuments"
                                   md-progress="ctrl.searchScreens.general.controller.grid.progress">
                                <thead md-head md-order="ctrl.searchScreens.general.controller.grid.order"
                                       md-on-reorder="ctrl.searchScreens.general.controller.getSortedData">
                                <tr md-row>
                                    <th colspan="{{ctrl.searchScreens.general.controller.selectedSearchedGeneralDocuments.length > 1 ? 8 : 9}}"
                                        ng-if="ctrl.searchScreens.general.controller.selectedSearchedGeneralDocuments.length"
                                        md-column>
                                        <div layout="row" layout-align="start center">
                                            <span>{{ctrl.searchScreens.general.controller.selectedSearchedGeneralDocuments.length}} {{lang.items_selected}} </span>
                                            <span flex></span>
                                            <!--<md-button class="md-icon-button" ng-if="ctrl.searchScreens.general.controller.employeeService.hasPermissionTo('LAUNCH_DISTRIBUTION_WORKFLOW')"
                                                       ng-if="ctrl.searchScreens.general.controller.selectedSearchedGeneralDocuments.length > 1"
                                                       tooltip="{{lang.grid_action_launch_distribution_workflow}}"
                                                       ng-click="ctrl.searchScreens.general.controller.launchDistributionWorkflowBulk($event)">
                                                <md-icon md-svg-icon="sitemap"></md-icon>
                                            </md-button>
                                            <md-button class="md-icon-button"
                                                       tooltip="{{lang.grid_action_archive}}"
                                                       ng-if="ctrl.searchScreens.general.controller.selectedSearchedGeneralDocuments.length > 1"
                                                       ng-click="ctrl.searchScreens.general.controller.archiveGeneralBulk($event)">
                                                <md-icon md-svg-icon="stop"></md-icon>
                                            </md-button>-->
                                            <!-- Add to Favorite -->
                                            <md-button class="md-icon-button" class="action-green"
                                                       tooltip="{{lang.grid_action_add_to_favorite}}"
                                                       ng-if="ctrl.searchScreens.general.controller.selectedSearchedGeneralDocuments.length"
                                                       ng-click="ctrl.searchScreens.general.controller.addToFavoriteBulk($event)">
                                                <md-icon md-svg-icon="star"></md-icon>
                                            </md-button>
                                        </div>
                                    </th>
                                    <th md-column>
                                        <!-- Indicators -->
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.general.controller.selectedSearchedGeneralDocuments.length"
                                        md-column
                                        md-order-by="docSerial">
                                        <span>{{lang.label_serial}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.general.controller.selectedSearchedGeneralDocuments.length"
                                        md-column
                                        md-order-by="docSubject">
                                        <span>{{lang.subject}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.general.controller.selectedSearchedGeneralDocuments.length"
                                        md-column
                                        md-order-by="{{ctrl.searchScreens.general.controller.getSortingKey('priorityLevel', 'Lookup')}}">
                                        <span>{{lang.priority_level}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.general.controller.selectedSearchedGeneralDocuments.length"
                                        md-column
                                        md-order-by="{{ctrl.searchScreens.general.controller.getSortingKey('docTypeForSearchGrid', 'DocumentType')}}">
                                        <span>{{lang.label_document_type}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.general.controller.selectedSearchedGeneralDocuments.length"
                                        md-column
                                        md-order-by="{{ctrl.searchScreens.general.controller.getSortingKey('creatorInfo', 'DocumentType')}}">
                                        <span>{{lang.creator}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.general.controller.selectedSearchedGeneralDocuments.length"
                                        md-column
                                        md-order-by="createdOn">
                                        <span>{{lang.created_on}}</span>
                                    </th>
                                    <th ng-if="!ctrl.searchScreens.general.controller.selectedSearchedGeneralDocuments.length && ctrl.searchScreens.general.controller.selectedSearchedGeneralDocuments.length < 2"
                                        md-column>
                                        <span></span>
                                    </th>
                                </tr>
                                </thead>
                                <tbody md-body>
                                <tr md-row md-select="searchedGeneralDocument" grid-right-click-directive
                                    context-menu-actions="ctrl.searchScreens.general.controller.contextMenuActions"
                                    model="searchedGeneralDocument"
                                    selected-length="{{ctrl.searchScreens.general.controller.selectedSearchedGeneralDocuments.length ? ctrl.searchScreens.general.controller.selectedSearchedGeneralDocuments.length : 0}}"
                                    ng-repeat="searchedGeneralDocument in searchResults = (ctrl.searchScreens.general.controller.searchedGeneralDocuments | filter:ctrl.searchScreens.general.controller.searchModel | limitTo: ctrl.searchScreens.general.controller.grid.limit: ((ctrl.searchScreens.general.controller.grid.page - 1) * ctrl.searchScreens.general.controller.grid.limit)) track by $index">
                                    <td md-cell class="indicator-td">
                                        <!-- Security Level -->
                                        <grid-indicator-directive record="searchedGeneralDocument"
                                                                  indicator-type="securityLevel"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Document Class (Outgoing/Incoming/Internal) -->
                                        <grid-indicator-directive record="searchedGeneralDocument"
                                                                  indicator-type="docClass"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Paper/Electronic-->
                                        <grid-indicator-directive record="searchedGeneralDocument"
                                                                  ng-if="searchedGeneralDocument.getInfo().documentClass !== 'incoming'"
                                                                  indicator-type="paperElectronic"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Priority Level -->
                                        <grid-indicator-directive record="searchedGeneralDocument"
                                                                  indicator-type="priorityLevel"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Has Attachments -->
                                        <grid-indicator-directive record="searchedGeneralDocument"
                                                                  indicator-type="hasAttachment"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Linked Documents -->
                                        <grid-indicator-directive record="searchedGeneralDocument"
                                                                  indicator-type="hasLinkedDocuments"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Site Follow up Due Date -->
                                        <grid-indicator-directive record="searchedGeneralDocument"
                                                                  indicator-type="siteFollowUpDueDate"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Site Follow up Ended -->
                                        <grid-indicator-directive record="searchedGeneralDocument"
                                                                  indicator-type="siteFollowUpEnded"
                                                                  record-type="correspondence"></grid-indicator-directive>
                                        <!-- Sequential Workflow -->
                                        <grid-indicator-directive record="searchedGeneralDocument"
                                                                  indicator-type="sequentialWF"
                                                                  record-type="Correspondence"></grid-indicator-directive>
                                        <span flex
                                              ng-class="{'indicator-content': searchedGeneralDocument.followUpStatusIndicator}">
                                        <md-icon ng-if="searchedGeneralDocument.followUpStatusIndicator"
                                                 class="{{searchedGeneralDocument.followUpStatusIndicator.class}}"
                                                 md-svg-icon="{{searchedGeneralDocument.followUpStatusIndicator.icon}}"
                                                 tooltip="{{lang[searchedGeneralDocument.followUpStatusIndicator.tooltip].change({name: searchedGeneralDocument.followupStatusLookup.getTranslatedName()})}}"
                                        ></md-icon>
                                    </span>
                                    </td>
                                    <td md-cell><span class="serial-td">{{searchedGeneralDocument.docFullSerial}}</span>
                                    </td>
                                    <td md-cell class="subject">
                                        <!--<grid-document-subject-directive record="searchedGeneralDocument"
                                                                         plain-text-only="!searchedGeneralDocument.hasContent()"
                                                                         click-callback="ctrl.searchScreens.general.controller.viewDocument">
                                        </grid-document-subject-directive>-->
                                        <a href=""
                                           ng-if="searchedGeneralDocument.hasContent() && ctrl.searchScreens.general.controller.grid.truncateSubject"
                                           class="view-doc subject-internal" md-truncate
                                           tooltip="{{searchedGeneralDocument.docSubject}}"
                                           ng-click="ctrl.searchScreens.general.controller.viewDocument(searchedGeneralDocument, $event)">{{searchedGeneralDocument.docSubject}}</a>
                                        <span ng-if="!searchedGeneralDocument.hasContent() && ctrl.searchScreens.general.controller.grid.truncateSubject"
                                              class="view-doc subject-internal" md-truncate
                                              tooltip="{{searchedGeneralDocument.docSubject}}">{{searchedGeneralDocument.docSubject}}</span>
                                        <a href=""
                                           ng-if="searchedGeneralDocument.hasContent() && !ctrl.searchScreens.general.controller.grid.truncateSubject"
                                           class="view-doc subject-internal"
                                           tooltip="{{searchedGeneralDocument.docSubject}}"
                                           ng-click="ctrl.searchScreens.general.controller.viewDocument(searchedGeneralDocument, $event)">{{searchedGeneralDocument.docSubject}}</a>
                                        <span ng-if="!searchedGeneralDocument.hasContent() && !ctrl.searchScreens.general.controller.grid.truncateSubject"
                                              class="view-doc subject-internal"
                                              tooltip="{{searchedGeneralDocument.docSubject}}">{{searchedGeneralDocument.docSubject}}</span>
                                    </td>
                                    <td md-cell>{{searchedGeneralDocument.priorityLevel.getTranslatedName()}}</td>
                                    <td md-cell>{{searchedGeneralDocument.docTypeInfo.getTranslatedName()}}</td>
                                    <td md-cell>{{searchedGeneralDocument.creatorInfo.getTranslatedName()}}</td>
                                    <td md-cell>{{searchedGeneralDocument.createdOn}}</td>
                                    <td md-cell
                                        ng-if="ctrl.searchScreens.general.controller.selectedSearchedGeneralDocuments.length < 2">
                                        <div layout-align="start center" ng-if="!ctrl.searchScreens.general.controller.selectedSearchedGeneralDocuments.length
                                                  || ctrl.searchScreens.general.controller.selectedSearchedGeneralDocuments.length===1 && ctrl.searchScreens.general.controller.selectedSearchedGeneralDocuments[0].id === searchedGeneralDocument.id">
                                            <grid-actions-directive
                                                    shortcut-actions="ctrl.searchScreens.general.controller.shortcutActions"
                                                    model="searchedGeneralDocument">
                                            </grid-actions-directive>
                                        </div>
                                    </td>
                                </tr>
                                <tr md-row
                                    ng-if="!ctrl.searchScreens.general.controller.searchedGeneralDocuments.length">
                                    <td md-cell colspan="8" class="red-text text-center">{{lang.no_records_found}}</td>
                                </tr>
                                <tr md-row
                                    ng-if="ctrl.searchScreens.general.controller.searchedGeneralDocuments.length && !searchResults.length">
                                    <td md-cell colspan="8" class="red-text text-center">
                                        {{lang.no_records_found_matching_search}}
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <md-table-pagination
                                md-label="{page: '{{lang.page}}', rowsPerPage: '{{lang.rows_per_page}}', of: '{{lang.count_of}}'}"
                                md-limit-options="ctrl.searchScreens.general.controller.grid.limitOptions"
                                md-limit="ctrl.searchScreens.general.controller.grid.limit"
                                md-page="ctrl.searchScreens.general.controller.grid.page"
                                md-total="{{(ctrl.searchScreens.general.controller.searchedGeneralDocuments | filter:ctrl.searchScreens.general.controller.searchModel).length}}"
                                md-page-select
                                md-on-paginate="ctrl.searchScreens.general.controller.grid.pagingCallback">
                        </md-table-pagination>
                    </md-table-container>
                </md-tab>
            </md-tabs>
        </div>
    </div>
</div>
<!-- end of view -->
