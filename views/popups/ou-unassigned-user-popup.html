<md-dialog class="dialog-extend"
           ng-class="{'cms-dialog-full-screen':ctrl.fullScreen}">
    <div layout="column">
        <popup-toolbar-directive
                header-text="{{ctrl.ouApplicationUser.applicationUser.getNames()}}"></popup-toolbar-directive>
        <md-content scroll-directive>
            <form name="ouUnassignedUserForm" autocomplete="off">
                <div layout="column" class="p20">
                    <div layout="row">
                        <md-input-container flex>
                            <label for="customRoleId">{{lang.role}}</label>
                            <md-select ng-change="ctrl.customRoleChanged()" id="customRoleId" name="customRoleId"
                                       required
                                       ng-model="ctrl.ouApplicationUser.customRoleId">
                                <md-option ng-value="role"
                                           ng-repeat="role in ctrl.roles track by $index">
                                    {{role.getTranslatedName()}}
                                </md-option>
                            </md-select>
                            <div ng-messages="ouUnassignedUserForm.customRoleId.$error">
                                <div ng-message="required">{{lang.field_required}}</div>
                            </div>
                        </md-input-container>
                        <!-- Security Levels -->
                        <md-input-container flex>
                            <label for="ouSecurityLevel">{{lang.security_levels}}</label>
                            <md-select id="ouSecurityLevel" name="ouSecurityLevel" multiple required
                                       ng-model="ctrl.ouApplicationUser.securityLevels">
                                <md-option ng-value="securityLevel"
                                           ng-repeat="securityLevel in ctrl.securityLevels track by $index">
                                    {{securityLevel.getTranslatedName()}}
                                </md-option>
                            </md-select>
                            <div ng-messages="ouUnassignedUserForm.securityLevels.$error">
                                <div ng-message="required">{{lang.field_required}}</div>
                            </div>
                        </md-input-container>
                    </div>
                </div>
            </form>
            <div layout="row">
                <md-button class="md-raised" ng-disabled="ouUnassignedUserForm.$invalid"
                           ng-click="ctrl.addOuUnassignedUserFromCtrl()">
                    {{lang.add}}
                </md-button>
                <span flex></span>
                <md-button class="md-raised" ng-click="ctrl.closeOuUnassignedUserPopupFromCtrl()">
                    {{lang.close}}
                </md-button>
            </div>
            </form>
        </md-content>
    </div>
</md-dialog>
