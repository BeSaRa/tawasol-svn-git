<md-dialog class="dialog-extend"
           ng-class="{'cms-dialog-full-screen':ctrl.fullScreen}">
        <popup-toolbar-directive
                header-text="{{ctrl.ouApplicationUser.applicationUser.getNames()}}"></popup-toolbar-directive>
    <md-dialog-content scroll-directive>
        <div class="md-dialog-content cms-dialog-content">
            <form name="ouUnassignedUserForm" autocomplete="off">
                <div layout="row">
                    <!-- Role -->
                    <md-input-container flex>
                        <label for="customRoleId">{{lang.role}}</label>
                        <md-select ng-change="ctrl.customRoleChanged()" id="customRoleId" name="customRoleId"
                                   required
                                   ng-model="ctrl.ouApplicationUser.customRoleId">
                            <md-option ng-value="role"
                                       ng-repeat="role in ctrl.roles track by $index">
                                {{role.getTranslatedName()}}
                            </md-option>
                        </md-select>
                        <div ng-messages="ouUnassignedUserForm.customRoleId.$error">
                            <div ng-message="required">{{lang.field_required}}</div>
                        </div>
                    </md-input-container>
                    <!-- Security Levels -->
                    <md-input-container flex>
                        <label for="ouSecurityLevel">{{lang.security_levels}}</label>
                        <md-select id="ouSecurityLevel" name="ouSecurityLevel" multiple required
                                   ng-model="ctrl.ouApplicationUser.securityLevels">
                            <md-option ng-value="securityLevel"
                                       ng-repeat="securityLevel in ctrl.securityLevels track by $index">
                                {{securityLevel.getTranslatedName()}}
                            </md-option>
                        </md-select>
                        <div ng-messages="ouUnassignedUserForm.securityLevels.$error">
                            <div ng-message="required">{{lang.field_required}}</div>
                        </div>
                    </md-input-container>
                </div>
            </form>
        </div>
    </md-dialog-content>
    <md-dialog-actions class="cms-dialog-actions">
        <md-button class="md-raised" ng-disabled="ouUnassignedUserForm.$invalid"
                   ng-click="ctrl.addOuUnassignedUserFromCtrl()">
            {{lang.add}}
        </md-button>
        <span flex></span>
        <md-button class="md-raised" ng-click="ctrl.closeOuUnassignedUserPopupFromCtrl()">
            {{lang.close}}
        </md-button>
    </md-dialog-actions>
</md-dialog>
