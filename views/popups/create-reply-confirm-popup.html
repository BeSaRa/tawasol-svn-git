<md-dialog class="dialog-extend cms-dialog" layout="column"
           ng-class="{'cms-dialog-full-screen':ctrl.fullScreen}"
           ng-attr-aria-label="{{lang.grid_action_create_reply}}">
    <popup-toolbar-directive
            header-text="{{lang.grid_action_create_reply}} - {{ctrl.record.getTranslatedName()}}"></popup-toolbar-directive>
    <md-dialog-content scroll-directive flex>
        <div class="md-dialog-content cms-dialog-content">
            <form name="create_reply_form" autocomplete="off">
                <div layout="row" class="mb10">
                    <!-- Reply Type -->
                    <fieldset class="size-50">
                        <legend class="md-accent">{{lang.reply_type}}</legend>
                        <div layout="row">
                            <md-radio-group ng-model="ctrl.replyType" ng-change="ctrl.onChangeReplyType($event)">
                                <div ng-repeat='replyType in ctrl.replyTypeOptions'>
                                    <div flex layout-padding layout-align="start center">
                                        <md-radio-button flex ng-value="replyType.id">
                                            {{lang[replyType.key]}}
                                        </md-radio-button>
                                    </div>
                                </div>
                            </md-radio-group>
                        </div>
                    </fieldset>
                    <!-- Add Method -->
                    <fieldset class="size-50">
                        <legend class="md-accent">{{lang.label_document_type}}</legend>
                        <div layout="row">
                            <md-radio-group ng-model="ctrl.addMethod">
                                <div ng-repeat='option in ctrl.addMethodOptions'>
                                    <div flex layout-padding layout-align="start center">
                                        <md-radio-button flex ng-value="option.id"
                                                         ng-disabled="option.disabled()">
                                            {{lang[option.key]}}
                                        </md-radio-button>
                                    </div>
                                </div>
                            </md-radio-group>
                        </div>
                    </fieldset>
                </div>
                <div layout="row">
                    <!-- Add From -->
                    <fieldset class="size-50">
                        <legend class="md-accent">{{lang.reply_form}}</legend>
                        <div layout="row">
                            <md-radio-group ng-model="ctrl.replyForm">
                                <div ng-repeat='replyFormOption in ctrl.replyFormOptions'>
                                    <div flex layout-padding layout-align="start center">
                                        <md-radio-button flex ng-value="replyFormOption.id">
                                            {{lang[replyFormOption.key]}}
                                        </md-radio-button>
                                    </div>
                                </div>
                            </md-radio-group>
                        </div>
                    </fieldset>
                    <!-- Use as attachment or linked doc -->
                    <fieldset class="size-50">
                        <legend class="md-accent">{{lang.link_incoming_as}}</legend>
                        <div layout="row">
                            <md-radio-group ng-model="ctrl.createAsAttachment">
                                <div ng-repeat='useAs in ctrl.createAsOptions'>
                                    <div flex layout-padding layout-align="start center">
                                        <md-radio-button flex ng-value="useAs.id">
                                            {{lang[useAs.key]}}
                                        </md-radio-button>
                                    </div>
                                </div>
                            </md-radio-group>
                        </div>
                    </fieldset>
                </div>
            </form>
        </div>
    </md-dialog-content>
    <md-dialog-actions class="cms-dialog-actions">
        <md-button class="md-raised md-primary"
                   ng-disabled="ctrl.isCreateReplyDisabled(reason_form)"
                   ng-click="ctrl.setCreateReply($event)">
            {{lang.grid_action_create_reply}}
        </md-button>
        <md-button class="md-raised red-text" ng-click="ctrl.closePopup()">
            {{lang.close}}
        </md-button>
    </md-dialog-actions>
</md-dialog>
