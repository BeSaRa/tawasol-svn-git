<md-menu-bar class="notify-list">
    <md-menu md-position-mode="left bottom" md-offset="0 12">
        <div layout="column" class="notify">
            <md-button class="md-icon-button" ng-click="ctrl.openNotificationMenu($mdMenu)"
                       tooltip="{{$root.lang.notifications}}" fixed-position="true">
                <md-icon md-svg-icon="email-alert"></md-icon>
            </md-button>
            <span ng-if="ctrl.mailService.unreadNotificationsCount > 0" ng-click="ctrl.openNotificationMenu($mdMenu)"
                  class="counter blue">{{ctrl.mailService.unreadNotificationsCount}}</span>
        </div>
        <md-menu-content class="toolbar-menu-content" md-menu-default-scroll>
            <div scroll-directive class="notify-list-wrapper">
                <ul>
                    <li ng-repeat="item in ctrl.mailService.notifications track by $index" layout="row">
                        <div class="task-body" flex layout="column">
                            <div class="task-header" layout="row">
                                <!--<h5 md-truncate flex ng-if="!item.read">
                                    <a href="#" ng-click="ctrl.openNotificationItem(item,$event)">{{item.getNotificationSubject()}}</a>
                                </h5>-->
                                <a href="#" md-truncate flex ng-class="{'unread': !item.isOpen}"
                                   class="notification-subject" ng-click="ctrl.openNotificationItem(item,$event)">{{item.getNotificationSubject()}}</a>
                            </div>
                            <div layout="row">
                                <div class="tasks-date-text" ng-class="{'unread': !item.isOpen}">
                                    <md-icon class="tasks-date-icon" md-svg-icon="update"></md-icon>
                                    {{item.receivedDate}}
                                </div>
                                <span flex></span>
                                <div class="tasks-date-text" ng-class="{'unread': !item.isOpen}">
                                    <md-icon class="tasks-date-icon" md-svg-icon="account"></md-icon>
                                    {{item.senderInfo.getTranslatedName()}}
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </md-menu-content>
    </md-menu>
</md-menu-bar>
