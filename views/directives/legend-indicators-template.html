<div layout="row" class="grid-legend row-border-top" layout-align="center center">
    <div ng-repeat="indicator in ctrl.legendIndicators"
         ng-if="$index < ctrl.visibleCount && indicator.legendText(indicator)" class="p0p5">
        <md-icon class="{{indicator.class}}"
                 md-svg-icon="{{indicator.icon}}">
        </md-icon>
        <span>{{indicator.legendText(indicator)}}</span>
    </div>

    <div layout-padding>
        <md-menu>
            <md-button aria-label="Open" class="md-icon-button"
                       ng-click="$mdMenu.open($event)">
                <md-icon md-svg-icon="dots-vertical"></md-icon>
            </md-button>
            <md-menu-content width="3">
                <md-menu-item ng-repeat="indicator in ctrl.legendIndicators"
                              ng-if="$index >= ctrl.visibleCount && indicator.legendText()">
                    <!--<md-icon class="{{indicator.class}}"
                             md-svg-icon="{{indicator.icon}}">
                    </md-icon>
                    <span>{{indicator.legendText()}}</span>-->
                    <md-button aria-label="Legend" md-prevent-menu-close>
                        <div layout="row" flex>
                            <md-icon class="{{indicator.class}}"
                                     md-svg-icon="{{indicator.icon}}">
                            </md-icon>
                            <p flex>{{indicator.legendText(indicator)}}</p>
                        </div>
                    </md-button>
                </md-menu-item>
            </md-menu-content>
        </md-menu>
    </div>
</div>


